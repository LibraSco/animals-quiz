<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½ çš„æœ¬å‘½å°åŠ¨ç‰© | ä¸“å±æ€§æ ¼å¤§æ­ç§˜ ğŸ¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", å¾®è½¯é›…é»‘, sans-serif;
        }
        body {
            background: linear-gradient(120deg, #FFF8E8, #FDF2F8);
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }
        /* å•æ¡è½®æ’­å¼¹å¹•æ ·å¼ - ä¼˜åŒ–ç‰ˆ */
        .barrage-box {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 45px; /* åˆšå¥½å®¹çº³å•æ¡å¼¹å¹•ï¼Œé¿å…é®æŒ¡ */
            line-height: 45px; /* å‚ç›´å±…ä¸­ï¼Œä¿è¯æ–‡å­—å®Œæ•´æ˜¾ç¤º */
            overflow: hidden;
            z-index: 99;
            pointer-events: none; /* ä¸å½±å“ç‚¹å‡» */
            background-color: rgba(255, 255, 255, 0.8); /* æµ…èƒŒæ™¯ï¼Œæå‡æ–‡å­—å¯è¯»æ€§ */
        }
        .barrage-item {
            position: absolute;
            white-space: nowrap;
            font-size: 18px;
            color: #FF6B8B;
            font-weight: bold;
            top: 0; /* å›ºå®šåœ¨å®¹å™¨é¡¶éƒ¨ï¼Œå‚ç›´å±…ä¸­ */
            left: 100%; /* åˆå§‹åœ¨å³ä¾§å¤– */
            animation: move 15s linear forwards; /* 15sæ»šåŠ¨å®Œï¼Œä¸å¾ªç¯ */
        }
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .barrage-item {
                font-size: 16px;
            }
            .barrage-box {
                height: 40px;
                line-height: 40px;
            }
        }
        @keyframes move {
            0% {left: 100%;} /* èµ·å§‹ï¼šå³ä¾§å±å¹•å¤– */
            100% {left: -100%;} /* ç»“æŸï¼šå·¦ä¾§å±å¹•å¤–ï¼ˆç¡®ä¿æ–‡å­—å®Œå…¨æ»šå‡ºï¼‰ */
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 8px 24px rgba(255,182,193,0.15);
            position: relative;
            z-index: 10;
            margin-top: 60px; /* ç»™å¼¹å¹•ç•™è¶³å¤Ÿç©ºé—´ */
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
            background: linear-gradient(to right, #FF6B8B, #FF9AA2);
            -webkit-background-clip: text;
            color: transparent;
        }
        /* æ–°å¢ï¼šéšè—æ ‡ç­¾æç¤ºè¯­æ ·å¼ */
        .tag-tip {
            text-align: center;
            font-size: 14px;
            color: #8866DD;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .select-box {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        select {
            padding: 12px 16px;
            border: 2px solid #B0E0E6;
            border-radius: 16px;
            font-size: 16px;
            min-width: 150px;
            outline: none;
        }
        select:focus {
            border-color: #FFB6C1;
        }
        .btn {
            background: linear-gradient(to right, #FFB6C1, #FF9AA2);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 12px 30px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 10px;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .result-box {
            display: none;
            margin-top: 30px;
            padding: 20px;
            border-radius: 20px;
            background-color: #FDF2F8;
            align-items: center;
            gap: 20px;
            position: relative;
        }
        .result-img {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(255,182,193,0.3);
            transition: transform 0.3s;
        }
        .result-img:hover {
            transform: rotate(5deg) scale(1.05);
        }
        .sticker {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 30px;
            z-index: 1;
        }
        /* æ¢è´´çº¸æŒ‰é’®æ ·å¼ */
        .change-sticker-btn {
            position: absolute;
            top: 50px;
            right: 20px;
            z-index: 2;
            padding: 8px 12px;
            font-size: 14px;
            border-radius: 12px;
        }
        .result-info {
            line-height: 1.8;
        }
        .animal-name {
            font-size: 24px;
            font-weight: bold;
            color: #FF6B8B;
            margin-bottom: 10px;
        }
        .personality, .hidden-tag, .blessing, .lucky-info {
            font-size: 16px;
            margin-bottom: 8px;
        }
        .hidden-tag {
            color: #8866DD;
            font-weight: bold;
        }
        .blessing {
            color: #E63946;
            font-weight: bold;
        }
        .lucky-info {
            color: #FF8C00;
            font-weight: bold;
        }
        .interact-btn {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .small-btn {
            padding: 8px 16px;
            font-size: 14px;
            border-radius: 12px;
        }
        /* æ€§æ ¼å°é—®ç­”æ ·å¼ */
        .quiz-box {
            margin-top: 15px;
            padding: 10px;
            border: 1px dashed #FFB6C1;
            border-radius: 12px;
            display: none;
        }
        .quiz-title {
            font-size: 16px;
            color: #FF6B8B;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .quiz-result {
            display: none;
            color: #8866DD;
            font-weight: bold;
            margin-top: 10px;
        }
        .footer-note {
            text-align: center;
            margin-top: 30px;
            font-size: 12px;
            color: #999;
        }
        @keyframes float {
            0% {transform: translateY(0) rotate(0deg); opacity: 0.5;}
            50% {transform: translateY(-20px) rotate(5deg); opacity: 0.8;}
            100% {transform: translateY(0) rotate(0deg); opacity: 0.5;}
        }
        .float-item {
            position: fixed;
            font-size: 20px;
            opacity: 0.5;
            animation: float 6s infinite ease-in-out;
            pointer-events: none;
            z-index: 1;
        }
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .result-box {
                flex-direction: column;
                text-align: center;
            }
            .result-img {
                width: 80%;
                height: auto;
            }
            .btn {
                width: 100%;
            }
            .select-box {
                flex-direction: column;
                align-items: center;
            }
            select {
                width: 100%;
                max-width: 300px;
            }
            .sticker {
                top: 10px;
                right: 50%;
                transform: translateX(50%);
            }
            .change-sticker-btn {
                top: 50px;
                right: 50%;
                transform: translateX(50%);
                width: auto;
                margin-top: 5px;
            }
            .interact-btn {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- å•æ¡è½®æ’­å¼¹å¹•å®¹å™¨ -->
    <div class="barrage-box" id="barrage-box"></div>

    <div class="container">
        <h1>ğŸ¾ ä½ çš„æœ¬å‘½å°åŠ¨ç‰© | ä¸“å±æ€§æ ¼å¤§æ­ç§˜ ğŸ¾</h1>
        
        <!-- æ–°å¢ï¼šéšè—æ ‡ç­¾æç¤ºè¯­ -->
        <div class="tag-tip">ğŸ’¡ æ¯ä¸ªå°åŠ¨ç‰©éƒ½æœ‰ä¸“å±éšè—æ ‡ç­¾ï¼Œçœ‹çœ‹ä½ çš„æ˜¯ä»€ä¹ˆï½</div>
        
        <div class="select-box">
            <select id="year-select">
                <option value="">è¯·é€‰æ‹©å‡ºç”Ÿå¹´ä»½</option>
            </select>
            <select id="month-select">
                <option value="">è¯·é€‰æ‹©å‡ºç”Ÿæœˆä»½</option>
                <option value="1">1æœˆ</option>
                <option value="2">2æœˆ</option>
                <option value="3">3æœˆ</option>
                <option value="4">4æœˆ</option>
                <option value="5">5æœˆ</option>
                <option value="6">6æœˆ</option>
                <option value="7">7æœˆ</option>
                <option value="8">8æœˆ</option>
                <option value="9">9æœˆ</option>
                <option value="10">10æœˆ</option>
                <option value="11">11æœˆ</option>
                <option value="12">12æœˆ</option>
            </select>
            <button class="btn" onclick="getAnimalResult()">æŸ¥è¯¢æˆ‘çš„æœ¬å‘½å°åŠ¨ç‰©</button>
        </div>

        <div id="result-box" class="result-box" style="display: none;">
            <img id="animal-img" class="result-img" src="" alt="æœ¬å‘½å°åŠ¨ç‰©">
            <div class="sticker" id="sticker"></div>
            <!-- æ¢è´´çº¸æŒ‰é’® -->
            <button class="btn small-btn change-sticker-btn" onclick="changeSticker()">æ¢è´´çº¸</button>
            
            <div class="result-info">
                <div class="animal-name" id="animal-name"></div>
                <div class="personality" id="animal-personality"></div>
                <div class="hidden-tag" id="animal-hidden-tag"></div>
                <div class="lucky-info" id="animal-lucky"></div>
                <div class="blessing" id="animal-blessing"></div>
                
                <button class="btn" style="margin-top:10px;" onclick="shareResult()">åˆ†äº«æˆ‘çš„æœ¬å‘½å°åŠ¨ç‰©</button>
                
                <div class="interact-btn">
                    <button class="btn small-btn" onclick="interactReply(true)">è¶…åƒ</button>
                    <button class="btn small-btn" onclick="interactReply(false)">ä¸å¤ªåƒ</button>
                </div>

                <!-- æµ‹å¥‘åˆåº¦æŒ‰é’® -->
                <button class="btn small-btn" style="margin-top:10px;" onclick="showQuiz()">æµ‹æµ‹å¥‘åˆåº¦âœ¨</button>
                
                <!-- æ€§æ ¼å°é—®ç­”åŒºåŸŸ -->
                <div class="quiz-box" id="quiz-box">
                    <div class="quiz-title">ğŸ¾ æµ‹æµ‹ä½ å’Œæœ¬å‘½å°åŠ¨ç‰©çš„å¥‘åˆåº¦ ğŸ¾</div>
                    <div id="quiz-question">Q1ï¼šä½ è§‰å¾—è‡ªå·±æ˜¯ç¤¾ç‰›è¿˜æ˜¯ç¤¾æï¼Ÿ</div>
                    <div style="display:flex; gap:10px; margin-bottom:10px; flex-wrap:wrap;" id="quiz-options">
                        <button class="btn small-btn" onclick="answerQuiz(1)">ç¤¾ç‰›âœ¨</button>
                        <button class="btn small-btn" onclick="answerQuiz(2)">ç¤¾æğŸ¥º</button>
                    </div>
                    <div class="quiz-result" id="quiz-result"></div>
                </div>
            </div>
        </div>

        <div class="footer-note">
            æœ¬æŸ¥è¯¢æŒ‰ç®€æ˜“ç”Ÿè‚–åˆ’åˆ†ï¼Œç²¾å‡†å†œå†åŒ¹é…å¯å‚è€ƒæ—¥å†å“¦ï½<br>
            å›¾ç‰‡ä¸ºå¡é€šæ‰‹ç»˜é£æ ¼ | ä»…ä¾›å¨±ä¹
        </div>
    </div>

    <script>
        // æ ¸å¿ƒæ•°æ®
        const animalData = [
    {
        zodiac: "é¼ ",
        name: "é«˜éï¼ˆä»“é¼ ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šæœºçµèªæ…§ï¼Œé€‚åº”åŠ›å¼ºï¼Œå¿ƒæ€ç»†è…»ï¼Œè‡ªå¸¦å°è°ƒçš®",
        hiddenTags: ["ç¤¾ç‰›å¤©èŠ±æ¿", "æ‚„æ‚„åŠªåŠ›å‹", "ç»†èŠ‚æ§", "å°åƒè´§ä¸€æš"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šå¥¶é»„è‰²", "å¹¸è¿æ•°å­—ï¼š7", "å¹¸è¿é›¶é£Ÿï¼šç“œå­ä»"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šæ–°å²ç¦æ°”ç»•ï¼Œæœºçµå¦‚ä½ ï¼Œä¸‡äº‹éƒ½èƒ½è¿åˆƒè€Œè§£ï½",
        imgUrl: "./hamster.png"
    },
    {
        zodiac: "ç‰›",
        name: "ç“¦ç‰¹ï¼ˆæ°´ç‰›ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šè¸å®ç¨³é‡ï¼Œæœ‰è´£ä»»å¿ƒï¼Œæ…¢çƒ­ä½†é‡æƒ…ä¹‰",
        hiddenTags: ["ä½›ç³»æ‘†çƒ‚é€‰æ‰‹", "é è°±æ‹…å½“", "æ…¢çƒ­å‹é€‰æ‰‹", "å¹²é¥­ç¬¬ä¸€å"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šå¤©è“è‰²", "å¹¸è¿æ•°å­—ï¼š8", "å¹¸è¿é›¶é£Ÿï¼šé’è‰æ¡"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šæ­¥å±¥ä¸åœï¼Œç¨³æ‰ç¨³æ‰“ï¼Œæ‰€æ±‚çš†å¦‚æ„¿ï¼Œæ‰€è¡Œçš†å¦é€”ï½",
        imgUrl: "./ox.png"
    },
    {
        zodiac: "è™",
        name: "æ³°å“¥ï¼ˆè€è™ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šçƒ­æƒ…æœæ•¢ï¼Œè‡ªä¿¡å¤§æ–¹ï¼Œæœ‰å†²åŠ²ä¸æ€¯åœº",
        hiddenTags: ["æ˜¾çœ¼åŒ…æœ¬åŒ…", "è¡ŒåŠ¨æ´¾", "ç¤¾ç‰›å¤©èŠ±æ¿", "å¤©ç”Ÿä¸»è§’"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šæ©˜çº¢è‰²", "å¹¸è¿æ•°å­—ï¼š9", "å¹¸è¿é›¶é£Ÿï¼šå°è‚‰å¹²"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šè™æ°”æ»¡æ»¡ï¼Œå‹‡æ•¢å¥”èµ´ï¼Œæ‰€æœ‰ç¾å¥½éƒ½å¥”ä½ è€Œæ¥ï½",
        imgUrl: "./tiger.png"
    },
    {
        zodiac: "å…”",
        name: "å¡æ´›ç‰¹ï¼ˆå…”å­ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šæ¸©æŸ”è½¯èŒï¼Œå¿ƒæ€æ•æ„Ÿï¼Œå–„è‰¯åˆæœ‰åŒç†å¿ƒ",
        hiddenTags: ["æ¸©æŸ”å¤©èŠ±æ¿", "ç¤¾æå°å®è´", "ç»†èŠ‚æ§", "æ²»æ„ˆç³»é€‰æ‰‹"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šç²‰è‰²", "å¹¸è¿æ•°å­—ï¼š2", "å¹¸è¿é›¶é£Ÿï¼šèƒ¡èåœå¹²"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šæ¸©æŸ”å¾…ä¸–ç•Œï¼Œä¸–ç•Œä¹Ÿäºˆä½ æ¸©æŸ”ï¼Œå…”å¹´ä¸‡äº‹ç”œï½",
        imgUrl: "./rabbit.png"
    },
    {
        zodiac: "é¾™",
        name: "é˜¿å®ï¼ˆå°é¾™ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šè‡ªå¸¦æ°”åœºï¼Œä¹è§‚å¼€æœ—ï¼Œæœ‰ä¸»è§ä¸éšæ³¢é€æµ",
        hiddenTags: ["æ˜¾çœ¼åŒ…æœ¬åŒ…", "å¤©ç”Ÿä¸»è§’", "è„‘æ´å¤§å¼€", "å¿«ä¹æºæ³‰"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šé‡‘é»„è‰²", "å¹¸è¿æ•°å­—ï¼š5", "å¹¸è¿é›¶é£Ÿï¼šå†°ç³–è‘«èŠ¦"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šé¾™è¡Œå¤§è¿ï¼Œé—ªé—ªå‘å…‰ï¼Œæ´»æˆè‡ªå·±å–œæ¬¢çš„æ ·å­ï½",
        imgUrl: "./dragon.png"
    },
    {
        zodiac: "è›‡",
        name: "å°é’ï¼ˆå°é’è›‡ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šå†·é™ç†æ™ºï¼Œè§‚å¯ŸåŠ›å¼ºï¼Œæ…¢çƒ­ä½†å†…å¿ƒæŸ”è½¯",
        hiddenTags: ["é«˜å†·èŒƒer", "ç»†èŠ‚æ§", "æ…¢çƒ­å‹é€‰æ‰‹", "éšè—å¤§ä½¬"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šé’ç»¿è‰²", "å¹¸è¿æ•°å­—ï¼š6", "å¹¸è¿é›¶é£Ÿï¼šè–„è·ç³–"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šå¿ƒæœ‰å±±æµ·ï¼Œé™è€Œæ— è¾¹ï¼Œæ–°å²äº‹äº‹çš†é¡ºæ„ï½",
        imgUrl: "./snake.png"
    },
    {
        zodiac: "é©¬",
        name: "æš´è‰ï¼ˆå°é©¬ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šæ´»æ³¼å¼€æœ—ï¼Œçƒ­çˆ±è‡ªç”±ï¼Œè¡ŒåŠ¨åŠ›è¶…å¼º",
        hiddenTags: ["è¡ŒåŠ¨æ´¾", "å¿«ä¹æºæ³‰", "ç¤¾ç‰›å¤©èŠ±æ¿", "è‡ªç”±è‡³ä¸Š"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šç„¦ç³–è‰²", "å¹¸è¿æ•°å­—ï¼š4", "å¹¸è¿é›¶é£Ÿï¼šç‡•éº¦æ£’"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šå¥”èµ´çƒ­çˆ±ï¼Œæ­¥å±¥ç”Ÿé£ï¼Œæ–°å²ä¸€è·¯å‘å‰ï½",
        imgUrl: "./horse.png"
    },
    {
        zodiac: "ç¾Š",
        name: "å’©å’©ï¼ˆç»µç¾Šï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šæ¸©æŸ”æ²»æ„ˆï¼Œå–„è§£äººæ„ï¼Œè‡ªå¸¦äº²å’ŒåŠ›",
        hiddenTags: ["æ¸©æŸ”å¤©èŠ±æ¿", "æ²»æ„ˆç³»é€‰æ‰‹", "ç¤¾æå°å®è´", "é è°±æ‹…å½“"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šå¥¶ç™½è‰²", "å¹¸è¿æ•°å­—ï¼š3", "å¹¸è¿é›¶é£Ÿï¼šç¾Šå¥¶å¸ƒä¸"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šæ¸©æš–å¦‚åˆï¼Œå²å²å®‰æ¾œï¼Œè¢«ç¾å¥½ä¸æ¸©æŸ”åŒ…å›´ï½",
        imgUrl: "./sheep.png"
    },
    {
        zodiac: "çŒ´",
        name: "çš®çš®ï¼ˆçŒ•çŒ´ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šå¤çµç²¾æ€ªï¼Œè„‘æ´å¤§å¼€ï¼Œæ°¸è¿œå……æ»¡å¥½å¥‡å¿ƒ",
        hiddenTags: ["è„‘æ´å¤§å¼€", "æ˜¾çœ¼åŒ…æœ¬åŒ…", "å¿«ä¹æºæ³‰", "æ•´æ´»å°èƒ½æ‰‹"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šæœç»¿è‰²", "å¹¸è¿æ•°å­—ï¼š1", "å¹¸è¿é›¶é£Ÿï¼šé¦™è•‰å¹²"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šè¶£å‘³æ»¡æ»¡ï¼Œè„‘æ´å¼€æŒ‚ï¼Œæ¯å¤©éƒ½æœ‰æ–°æƒŠå–œï½",
        imgUrl: "./monkey.png"
    },
    {
        zodiac: "é¸¡",
        name: "å’•å’•ï¼ˆå°é¸¡ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šç»†å¿ƒè°¨æ…ï¼Œæœ‰åŸåˆ™ï¼Œè‡ªå¸¦å°å‚²å¨‡",
        hiddenTags: ["ç»†èŠ‚æ§", "é«˜å†·èŒƒer", "é è°±æ‹…å½“", "å‚²å¨‡å°å®è´"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šå«©é»„è‰²", "å¹¸è¿æ•°å­—ï¼š10", "å¹¸è¿é›¶é£Ÿï¼šå°ç±³é¥¼"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šäº‹äº‹å‘¨å…¨ï¼Œæ­¥æ­¥ç¨³å¦¥ï¼Œæ–°å²çš†æœ‰å¥½æ¶ˆæ¯ï½",
        imgUrl: "./chicken.png"
    },
    {
        zodiac: "ç‹—",
        name: "å°¼è«ï¼ˆæŸ´çŠ¬ï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šå¿ è¯šä»—ä¹‰ï¼Œçƒ­æƒ…ç›´çˆ½ï¼Œæ°¸è¿œçœŸè¯šå¾…äºº",
        hiddenTags: ["ç¤¾ç‰›å¤©èŠ±æ¿", "é è°±æ‹…å½“", "å¿«ä¹æºæ³‰", "å°åƒè´§ä¸€æš"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šèµ¤èŒ¶è‰²", "å¹¸è¿æ•°å­—ï¼š11", "å¹¸è¿é›¶é£Ÿï¼šç‰›è‚‰ç²’"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šå¥½è¿æ—ºè´¢ï¼ŒæŒšå‹å¸¸ä¼´ï¼Œæ–°å²æ¸©æš–åˆçƒ­é—¹ï½",
        imgUrl: "./dog.png"
    },
    {
        zodiac: "çŒª",
        name: "åŸ¹æ ¹ï¼ˆå°çŒªï¼‰",
        personality: "æ ¸å¿ƒæ€§æ ¼ï¼šä½›ç³»ä¹è§‚ï¼Œå¿ƒå®½ä½“èƒ–ï¼Œè‡ªå¸¦æ²»æ„ˆæ„Ÿ",
        hiddenTags: ["ä½›ç³»æ‘†çƒ‚é€‰æ‰‹", "æ²»æ„ˆç³»é€‰æ‰‹", "å°åƒè´§ä¸€æš", "å¿«ä¹æºæ³‰"],
        luckyInfo: ["å¹¸è¿è‰²ï¼šæ¨±èŠ±ç²‰", "å¹¸è¿æ•°å­—ï¼š12", "å¹¸è¿é›¶é£Ÿï¼šç´«è–¯é¥¼"],
        blessing: "æ–°å¹´ç¥ç¦ï¼šåƒå¥½å–å¥½ï¼Œå¿«ä¹ä¸å€’ï¼Œæ–°å²ç¦æ°”èƒ–å˜Ÿå˜Ÿï½",
        imgUrl: "./pig.png"
    }
];
        // å…¨å±€å˜é‡ï¼šé—®ç­”ç›¸å…³ + å¼¹å¹•ç›¸å…³
        let quizScore = 0;
        let quizStep = 1;
        const barrageTexts = [
            "ä»Šæ—¥ä»½å¯çˆ±å·²åŠ è½½âœ¨", 
            "æœ¬å‘½å°åŠ¨ç‰©è¶…ç”œğŸ¥³", 
            "å¹¸è¿å€¼æ‹‰æ»¡ğŸ¬", 
            "è¢«å°åŠ¨ç‰©æ²»æ„ˆå•¦ğŸ’–",
            "æ˜¾çœ¼åŒ…å·²ä¸Šçº¿ğŸ˜œ",
            "å¹²é¥­é­‚è§‰é†’ğŸš",
            "å¿«ä¹æ˜ŸçƒåŸä½æ°‘ğŸŒ",
            "ä½›ç³»ä½†å¯çˆ±ğŸ˜˜"
        ];
        let currentBarrageIndex = 0; // å½“å‰æ’­æ”¾çš„å¼¹å¹•ç´¢å¼•

        window.onload = function() {
            // ç”Ÿæˆå¹´ä»½é€‰é¡¹
            const yearSelect = document.getElementById("year-select");
            for(let year = 1999; year <= 2024; year++){
                const option = document.createElement("option");
                option.value = year;
                option.textContent = year + "å¹´";
                yearSelect.appendChild(option);
            }

            // ç”Ÿæˆæ¼‚æµ®å…ƒç´ 
            const floatItems = ["â¤ï¸", "âœ¨", "ğŸ¾", "ğŸ¬", "ğŸ¥³", "ğŸ’–", "ğŸŒŸ"];
            for(let i=0; i<5; i++){
                const item = document.createElement("div");
                item.className = "float-item";
                item.textContent = floatItems[Math.floor(Math.random()*floatItems.length)];
                item.style.left = Math.random()*100 + "%";
                item.style.top = Math.random()*100 + "%";
                item.style.animationDelay = Math.random()*3 + "s";
                document.body.appendChild(item);
            }

            // å¯åŠ¨å•æ¡è½®æ’­å¼¹å¹•
            startBarrageLoop();
        };

        // å•æ¡å¼¹å¹•è½®æ’­æ ¸å¿ƒå‡½æ•°
        function startBarrageLoop() {
            const barrageBox = document.getElementById("barrage-box");
            // æ¸…ç©ºåŸæœ‰å¼¹å¹•
            barrageBox.innerHTML = "";
            
            // åˆ›å»ºå½“å‰å¼¹å¹•å…ƒç´ 
            const barrageItem = document.createElement("div");
            barrageItem.className = "barrage-item";
            barrageItem.textContent = barrageTexts[currentBarrageIndex];
            barrageBox.appendChild(barrageItem);

            // åˆ‡æ¢åˆ°ä¸‹ä¸€æ¡å¼¹å¹•ï¼ˆå¾ªç¯ï¼‰
            currentBarrageIndex = (currentBarrageIndex + 1) % barrageTexts.length;

            // å¼¹å¹•æ’­æ”¾å®Œï¼ˆ15sï¼‰åï¼Œè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€æ¡
            setTimeout(startBarrageLoop, 15000); // 15000ms = 15sï¼Œå’ŒåŠ¨ç”»æ—¶é•¿ä¸€è‡´
        }

        // ç”Ÿè‚–åŒ¹é…é€»è¾‘
        function getZodiac(year) {
            const zodiacs = ["é¼ ","ç‰›","è™","å…”","é¾™","è›‡","é©¬","ç¾Š","çŒ´","é¸¡","ç‹—","çŒª"];
            const baseYear = 1984;
            let index = (year - baseYear) % 12;
            if (index < 0) index += 12;
            return zodiacs[index];
        }

        // åˆ¤æ–­æ˜¥èŠ‚
        function isSpringFestival() {
            const now = new Date();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            return (month === 1 && day >=20) || (month === 2 && day <=20);
        }

        // æŸ¥è¯¢ç»“æœæ ¸å¿ƒå‡½æ•°
        function getAnimalResult() {
            const btn = document.querySelector(".btn");
            const year = parseInt(document.getElementById("year-select").value);
            const month = document.getElementById("month-select").value;
            
            // æ½®æ¢—æç¤ºè¯­
            if (!year || !month) {
                alert("å®å­ï¼å¿«é€‰å‡ºç”Ÿå¹´æœˆï¼Œè§£é”ä½ çš„ä¸“å±å°åŠ¨ç‰©ï½ğŸ¥º");
                return;
            }
            if (year < 1999 || year > 2024) {
                alert("è¿™ä¸ªå¹´ä»½çš„å®è¿˜æ²¡ä¸Šçº¿å“¦ï½é€‰1999-2024å¹´åº·åº·ğŸ˜");
                return;
            }

            btn.textContent = "æ­£åœ¨åŒ¹é…æœ¬å‘½å°åŠ¨ç‰©ğŸ¾";
            btn.disabled = true;

            setTimeout(() => {
                const zodiac = getZodiac(year);
                const animal = animalData.find(item => item.zodiac === zodiac);
                
                // éšæœºè´´çº¸
                const stickers = ["âœ¨", "ğŸ¬", "ğŸ¾", "â¤ï¸", "ğŸ¥³", "ğŸ’–", "ğŸŒŸ", "ğŸ“"];
                const randomSticker = stickers[Math.floor(Math.random() * stickers.length)];
                document.getElementById("sticker").textContent = randomSticker;

                // æ˜¾ç¤ºæ ¸å¿ƒä¿¡æ¯
                document.getElementById("animal-img").src = animal.imgUrl;
                document.getElementById("animal-name").textContent = animal.name;
                document.getElementById("animal-personality").textContent = animal.personality;
                
                // éšæœºéšè—æ ‡ç­¾
                const randomTag = animal.hiddenTags[Math.floor(Math.random() * animal.hiddenTags.length)];
                document.getElementById("animal-hidden-tag").textContent = `éšè—æ ‡ç­¾ï¼š${randomTag}`;

                // éšæœºå¹¸è¿ä¿¡æ¯
                const randomLucky = animal.luckyInfo[Math.floor(Math.random() * animal.luckyInfo.length)];
                document.getElementById("animal-lucky").textContent = `ä¸“å±å¹¸è¿ï¼š${randomLucky}`;

                // æ˜¥èŠ‚ç¥ç¦
                const blessingDom = document.getElementById("animal-blessing");
                if (isSpringFestival()) {
                    blessingDom.textContent = animal.blessing;
                    blessingDom.style.display = "block";
                } else {
                    blessingDom.style.display = "none";
                }

                // é‡ç½®é—®ç­”çŠ¶æ€
                quizScore = 0;
                quizStep = 1;
                document.getElementById("quiz-result").style.display = "none";
                document.getElementById("quiz-box").style.display = "none";
                // é‡ç½®é—®ç­”é€‰é¡¹
                resetQuizOptions();

                document.getElementById("result-box").style.display = "flex";
                btn.textContent = "æŸ¥è¯¢æˆ‘çš„æœ¬å‘½å°åŠ¨ç‰©";
                btn.disabled = false;
            }, 500);
        }

        // æ¢è´´çº¸åŠŸèƒ½
        function changeSticker() {
            const stickers = ["âœ¨", "ğŸ¬", "ğŸ¾", "â¤ï¸", "ğŸ¥³", "ğŸ’–", "ğŸŒŸ", "ğŸ“", "ğŸ‰", "ğŸ¥°"];
            const randomSticker = stickers[Math.floor(Math.random() * stickers.length)];
            document.getElementById("sticker").textContent = randomSticker;
            // æ½®æ¢—æç¤º
            alert(`è´´çº¸å·²æ¢æ–°âœ¨ï¼è¿™ä¸ª${randomSticker}è¶…é…ä½ ï½`);
        }

        // é‡ç½®é—®ç­”é€‰é¡¹ï¼ˆæ–°å¢ï¼‰
        function resetQuizOptions() {
            const optionsDom = document.getElementById("quiz-options");
            optionsDom.innerHTML = `
                <button class="btn small-btn" onclick="answerQuiz(1)">ç¤¾ç‰›âœ¨</button>
                <button class="btn small-btn" onclick="answerQuiz(2)">ç¤¾æğŸ¥º</button>
            `;
            document.getElementById("quiz-question").style.display = "block";
        }

        // æ˜¾ç¤ºæ€§æ ¼å°é—®ç­”
        function showQuiz() {
            document.getElementById("quiz-box").style.display = "block";
            // é‡ç½®é—®ç­”é—®é¢˜å’Œé€‰é¡¹
            document.getElementById("quiz-question").textContent = "Q1ï¼šä½ è§‰å¾—è‡ªå·±æ˜¯ç¤¾ç‰›è¿˜æ˜¯ç¤¾æï¼Ÿ";
            document.getElementById("quiz-result").style.display = "none";
            resetQuizOptions();
        }

        // å›ç­”é—®ç­”ï¼ˆä¿®å¤é€‰é¡¹bugï¼‰
        function answerQuiz(score) {
            quizScore += score;
            quizStep++;
            const questionDom = document.getElementById("quiz-question");
            const optionsDom = document.getElementById("quiz-options");
            
            // åˆ‡æ¢é—®é¢˜å’Œå¯¹åº”é€‰é¡¹ï¼ˆæ½®æ¢—ç‰ˆï¼‰
            if (quizStep === 2) {
                questionDom.textContent = "Q2ï¼šä½ åšäº‹æ›´åå‘æœæ–­è¿˜æ˜¯è°¨æ…ï¼Ÿ";
                optionsDom.innerHTML = `
                    <button class="btn small-btn" onclick="answerQuiz(1)">æœæ–­âš¡</button>
                    <button class="btn small-btn" onclick="answerQuiz(2)">è°¨æ…ğŸ¤”</button>
                `;
            } else if (quizStep === 3) {
                questionDom.textContent = "Q3ï¼šå¹²é¥­æ˜¯ä½ çš„äººç”Ÿå¤§äº‹å—ï¼Ÿ";
                optionsDom.innerHTML = `
                    <button class="btn small-btn" onclick="answerQuiz(1)">å¿…é¡»æ˜¯ğŸš</button>
                    <button class="btn small-btn" onclick="answerQuiz(2)">ä¸€èˆ¬èˆ¬ğŸ˜</button>
                `;
            } else {
                // è®¡ç®—å¥‘åˆåº¦ç»“æœ
                const totalScore = quizScore;
                let matchText = "";
                if (totalScore >= 5) {
                    matchText = `å¥‘åˆåº¦100%ğŸ’˜ï¼ä½ å’Œæœ¬å‘½å°åŠ¨ç‰©ç®€ç›´æ˜¯å¤©é€‰æ­å­ï½`;
                } else if (totalScore >= 3) {
                    matchText = `å¥‘åˆåº¦80%âœ¨ï¼ä½ å’Œæœ¬å‘½å°åŠ¨ç‰©æœ‰å°å·®å¼‚ï¼Œä½†ä¾æ—§è¶…é…ï½`;
                } else {
                    matchText = `å¥‘åˆåº¦60%ğŸ¥ºï¼å¤šäº†è§£ä¸‹ä½ çš„å°åŠ¨ç‰©ï¼Œä¼šå‘ç°è¶…åˆæ‹ï½`;
                }
                // éšè—é—®é¢˜ï¼Œæ˜¾ç¤ºç»“æœ
                questionDom.style.display = "none";
                optionsDom.style.display = "none";
                document.getElementById("quiz-result").textContent = matchText;
                document.getElementById("quiz-result").style.display = "block";
            }
        }

        // åˆ†äº«åŠŸèƒ½
        function shareResult() {
            const name = document.getElementById("animal-name").textContent;
            const personality = document.getElementById("animal-personality").textContent;
            const hiddenTag = document.getElementById("animal-hidden-tag").textContent;
            const luckyInfo = document.getElementById("animal-lucky").textContent;
            const shareText = `æˆ‘çš„æœ¬å‘½å°åŠ¨ç‰©æ˜¯${name}ï¼${personality} ${hiddenTag} ${luckyInfo} #æœ¬å‘½å°åŠ¨ç‰© #è¶£å‘³æµ‹è¯• ğŸ¾`;
            
            navigator.clipboard.writeText(shareText).then(() => {
                alert("åˆ†äº«æ–‡æ¡ˆå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï½å¿«å»å‘æœ‹å‹åœˆ/å°çº¢ä¹¦ç‚«ä¸€æ³¢ğŸ˜œ");
            }).catch(() => {
                alert("å®å­ï¼Œå¤åˆ¶å¤±è´¥å•¦ï¼æ‰‹åŠ¨å¤åˆ¶ä¸‹é¢çš„æ–‡æ¡ˆå§ï½\n" + shareText);
            });
        }

        // äº’åŠ¨å›å¤
        function interactReply(isLike) {
            if (isLike) {
                const replies = ["æœç„¶æ˜¯æœ¬å‘½ï¼ç²¾å‡†å‘½ä¸­ğŸ’˜", "å¤ªè´´äº†å§ï½è¿™å°±æ˜¯ä½ æœ¬äººæ²¡é”™äº†ğŸ˜", "é”æ­»ï¼è¿™å°±æ˜¯ä½ çš„ä¸“å±å°åŠ¨ç‰©âœ¨"];
                alert(replies[Math.floor(Math.random() * replies.length)]);
            } else {
                const replies = ["å¯èƒ½æ˜¯å°åŠ¨ç‰©è—äº†å°ç§˜å¯†ï½ğŸ˜œ", "æ¢ä¸ªå¹´ä»½åº·åº·ï¼Ÿè¯´ä¸å®šæœ‰æƒŠå–œâœ¨", "æ²¡å…³ç³»ï½å¯çˆ±å°±å®Œäº‹äº†ğŸ¥³"];
                alert(replies[Math.floor(Math.random() * replies.length)]);
            }
        }
    </script>
</body>
</html>


